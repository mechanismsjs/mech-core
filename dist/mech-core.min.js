(function(){"use strict";function ReduceF(){}function reduce(t){var e=Object.create(ReduceF.prototype);return e._a=t,e._a&&e._a.isMech&&(e._a._parDir=e),e}function NumF(){}function num(t){var e=Object.create(NumF.prototype);return e.v=0===arguments.length?0:t,e}function NumMF(){}function numM(t){var e=Object.create(NumMF.prototype);return e.v=0===arguments.length?0:t,e._v&&e._v.isMech&&(e._v._parDir=e),e}function StrF(){}function str(t){var e=Object.create(StrF.prototype);return e.v=0===arguments.length?"":t,e}function StrMF(){}function strM(t){var e=Object.create(StrMF.prototype);return e.v=0===arguments.length?"":t,e._v&&e._v.isMech&&(e._v._parDir=e),e}function PropGetF(){}function propGet(t,e,r){var i=Object.create(PropGetF.prototype);return i.prop=t,i._prop&&i._prop.isMech&&(i._prop._parDir=i),i.item=e,i._item&&i._item.isMech&&(i._item._parDir=i),i.itemGo=r,i}function PropSetF(){}function propSet(t,e,r,i){var o=Object.create(PropSetF.prototype);return o.prop=t,o._prop.isMech&&(o._prop._parDir=o),o.dest=e,o._dest&&o._dest.isMech&&(o._dest._parDir=o),o.src=r,o._src&&o._src.isMech&&(o._src._parDir=o),o.itemGo=i,o}function ParPropSetF(){}function parentPropSet(t,e,r){var i=Object.create(ParPropSetF.prototype);return i.prop=t,i._prop.isMech&&(i._prop._parDir=i),i.src=e,i._src&&i._src.isMech&&(i._src._parDir=i),i.itemGo=r,i}function LoopF(){}function loop(t,e){var r=Object.create(LoopF.prototype);return r._i=t,t&&t.isMech&&(r._i._parDir=r),r._m=e,e&&e.isMech&&(r._m._parDir=r),r}function MapF(){}function map(t,e){var r=Object.create(MapF.prototype);return r._a=t,r._a&&r._a.isMech&&(r._a._parDir=r),r._cache=null,r._max=null===e||void 0===e?1e3:e,r._max&&r._max.isMech&&(r._max._parDir=r),r}function FilterF(){}function filter(t){var e=Object.create(FilterF.prototype);return e._a=t,e._a&&e._a.isMech&&(e._a._parDir=e),e}function WriteLnF(){}function writeLn(t){var e=Object.create(WriteLnF.prototype);return e.text=t,e._t&&e._t.isMech&&(e._t._parDir=e),e}function SelfF(){}function self(t){var e=Object.create(SelfF.prototype);return e._self=t,e}function EvalF(){}function evalM(t){var e=Object.create(EvalF.prototype);return e._a=t,e._a&&e._a.isMech&&(e._a._parDir=e),e}var root=this,m=root.m||{};m._=m._||{},m._["version-core"]="0.2.8","undefined"!=typeof module&&module.exports?module.exports=m:root.m=m,ReduceF.prototype=Object.create(Object.prototype,{isMech:{get:function(){return!0}},go:{enumerable:!1,get:function(){if(void 0!==this._a&&null!==this._a){this._ran||(this._a._l=void 0===this._a.r||null===this._a.r?void 0:this._a.r.go,this._ran=!0);for(var t=null;void 0!==t;)t=this._a.go,void 0!==t&&(this._a._l=t);return this._a._l}}},goNum:{enumerable:!1,get:function(){return this.go}}}),m.reduce=reduce,m._.ReduceF=ReduceF,NumF.prototype=Object.create(Object.prototype,{isMech:{get:function(){return!0}},isPrim:{get:function(){return!0}},v:{enumerable:!1,get:function(){return this.goNum},set:function(t){null===t||void 0===t?this._v=void 0===t?NaN:0:(this._v=Number(t),isNaN(this._v)&&"NaN"!=t.toString()&&(this._vb=t))}},unit:{enumerable:!1,get:function(){return""}},go:{enumerable:!1,get:function(){return this.goNum}},goNum:{enumerable:!1,get:function(){return this._v}},goStr:{enumerable:!1,get:function(){return this._vb?this._vb.toString():this._v.toString()}},goArr:{enumerable:!1,get:function(){return[this.goNum]}},goBool:{enumerable:!1,get:function(){return this.goNum>0}}}),m.num=num,m._.NumF=NumF,NumMF.prototype=Object.create(NumF.prototype,{v:{enumerable:!1,get:function(){return this.goNum},set:function(t){null===t||void 0===t?(this._v=void 0===t?NaN:0,delete this._vb):(this._v=t.isMech?t:Number(t),!this._v.isMech&&isNaN(this._v)?"NaN"!=t.toString()&&(this._vb=t):delete this._vb)}},goNum:{enumerable:!1,get:function(){return this._v.isMech?this._v.goNum:this._v}},goStr:{enumerable:!1,get:function(){return this._v.isMech?this._v.goStr:this._vb?this._vb.toString():this._v.toString()}}}),m.numM=numM,m._.NumMF=NumMF,StrF.prototype=Object.create(Object.prototype,{isMech:{get:function(){return!0}},isPrim:{get:function(){return!0}},v:{enumerable:!1,get:function(){return this.goStr},set:function(t){this._v=String(t)}},go:{enumerable:!1,get:function(){return this.goStr}},goNum:{enumerable:!1,get:function(){var t=this.goStr;switch(t){case"false":return 0;case"true":return 1;default:return Number(t)}}},goStr:{enumerable:!1,get:function(){return this._v}},goArr:{enumerable:!1,get:function(){return[this.goStr]}},goBool:{enumerable:!1,get:function(){return this.goNum>0}}}),m.str=str,m._.StrF=StrF,StrMF.prototype=Object.create(StrF.prototype,{v:{enumerable:!1,get:function(){return this.goStr},set:function(t){null!==t&&void 0!==t&&t.isMech?this._v=t:this._v=String(t)}},goStr:{enumerable:!1,get:function(){return this._v.isMech?this._v.goStr:this._v}}}),m.strM=strM,m._.StrMF=StrMF,PropGetF.prototype=Object.create(Object.prototype,{isMech:{get:function(){return!0}},prop:{enumerable:!1,get:function(){return this._prop.isMech?this._prop.goStr:this._prop},set:function(t){this._prop=null===t||void 0===t?"":t}},item:{enumerable:!1,get:function(){return null===this._item||void 0===this._item?null:this._itemGo?this._item.go:this._item},set:function(t){this._item=null===t||void 0===t?null:t}},itemGo:{enumerable:!1,get:function(){return this._itemGo},set:function(t){this._itemGo=null===t||void 0===t||t}},go:{enumerable:!1,get:function(){var t=this.item;return null===t||void 0===t?null:t[this.prop]}},goNum:{enumerable:!1,get:function(){var t=this.go;return null===t?NaN:Number(this.go)}},goStr:{enumerable:!1,get:function(){var t=this.go;return null===t|void 0===t?"":String(this.go)}},goArr:{enumerable:!1,get:function(){return[this.go]}},goBool:{enumerable:!1,get:function(){return Boolean(this.go)}}}),m.propGet=propGet,m.p$=propGet,m._.PropGetF=PropGetF,PropSetF.prototype=Object.create(Object.prototype,{isMech:{get:function(){return!0}},prop:{enumerable:!1,get:function(){return this._prop.isMech?this._prop.goStr:this._prop},set:function(t){this._prop=null===t||void 0===t?"":t}},src:{enumerable:!1,get:function(){return null===this._src?null:this._src.isMech?this._src.go:this._src},set:function(t){this._src=null===t||void 0===t?null:t}},dest:{enumerable:!1,get:function(){return this._itemGo?null===this._dest?null:this._dest.go:this._dest},set:function(t){this._dest=null===t||void 0===t?null:t}},itemGo:{enumerable:!1,get:function(){return this._itemGo},set:function(t){this._itemGo=null===t||void 0===t||t}},go:{enumerable:!1,get:function(){var t=this.src,e=this.dest;return null!==e&&void 0!==e&&(e[this.prop]=t),t}}}),m.propSet=propSet,m.p$s=propSet,m._.PropSetF=PropSetF,ParPropSetF.prototype=Object.create(Object.prototype,{isMech:{get:function(){return!0}},parLogGet:{enumerable:!1,get:function(){if(void 0===this._parCache){for(var t=this._parDir,e=this.prop;void 0!==t&&!(e in t);)t=t._parDir;this._parCache=t}return this._parCache}},prop:{enumerable:!1,get:function(){return this._prop.isMech?this._prop.goStr:this._prop},set:function(t){this._prop=null===t||void 0===t?"":t}},src:{enumerable:!1,get:function(){return this._src},set:function(t){this._src=null===t||void 0===t?null:t}},itemGo:{enumerable:!1,get:function(){return this._itemGo},set:function(t){this._itemGo=null===t||void 0===t||t}},go:{enumerable:!1,get:function(){var t=this.parLogGet,e=null===this._src?null:this._src.isMech&&this.itemGo?this._src.go:this._src;if(t){var r=this.prop;t[r]=e}return e}},goNum:{enumerable:!1,get:function(){var t=this.parLogGet,e=null===this._src?null:this._src.isMech&&this.itemGo?this._src.goNum:this._src;if(t){var r=this.prop;t[r]=e}return e}},goStr:{enumerable:!1,get:function(){var t=this.parLogGet,e=null===this._src?null:this._src.isMech&&this.itemGo?this._src.goNum:this._src;if(t){var r=this.prop;t[r]=e}return e}},goArr:{enumerable:!1,get:function(){var t=this.parLogGet,e=null===this._src?null:this._src.isMech&&this.itemGo?this._src.goNum:this._src;if(t){var r=this.prop;t[r]=e}return e}},goBool:{enumerable:!1,get:function(){var t=this.parLogGet,e=null===this._src?null:this._src.isMech&&this.itemGo?this._src.goNum:this._src;if(t){var r=this.prop;t[r]=e}return e}}}),m.parentPropSet=parentPropSet,m._.ParPropSetF=ParPropSetF,LoopF.prototype=Object.create(Object.prototype,{isMech:{get:function(){return!0}},go:{enumerable:!1,get:function(){var t=void 0===this._m?void 0:this._m.isMech?this._m.go:this._m;if(void 0!==this._i&null!==this._i){if(void 0===t){for(var e,r=this._i.go;void 0!==r;)e=r,r=this._i.go;return e}var i=0;if(t-=1,t>0){for(;i<t;)this._i.go,i++;return this._i.go}}}}}),m.loop=loop,m._.LoopF=LoopF,MapF.prototype=Object.create(Object.prototype,{isMech:{get:function(){return!0}},go:{get:function(){if(null===this._cache){var t=this._a,e=t.isMech,r=this._max.isMech?this._max.go:this._max;this._cache=[];for(var i=e?t.go:t,o=0;void 0!==i&&o<r;)this._cache[o++]=i,i=e?t.go:t}return this._cache}},goNum:{get:function(){return this.go}},goArr:{get:function(){return this.go}}}),m.map=map,m._.MapF=MapF,FilterF.prototype=Object.create(Object.prototype,{isMech:{get:function(){return!0}},fv:{get:function(){return this._fv},set:function(t){this._fv=t}},go:{get:function(){if(void 0===this._a||null===this._a)return this._a;for(var t=this._a.goBool;!t;)t=this._a.goBool;return this._fv}},goNum:{get:function(){return this.go}},goStr:{get:function(){var t=this.go;return void 0===t||null===t?t:t.toString()}},goArr:{get:function(){return[this.go]}},goBool:{get:function(){return 0<this.go}}}),m.filter=filter,m._.FilterF=FilterF,WriteLnF.prototype=Object.create(Object.prototype,{isMech:{get:function(){return!0}},text:{enumerable:!1,get:function(){return this._t.isMech?this._t.goStr:this._t},set:function(t){this._t=null===t||void 0===t?"":t}},go:{enumerable:!1,get:function(){return this.goStr}},goStr:{enumerable:!1,get:function(){var t=this._t.isMech?this._t.goStr:this._t;return console.log(t),t}},goNum:{enumerable:!1,get:function(){var t=this._t.isMech?this._t.goNum:this._t;return t=Number(t),console.log(t.toString()),t}}}),m.writeLn=writeLn,m._.WriteLnF=WriteLnF,SelfF.prototype=Object.create(Object.prototype,{isMech:{get:function(){return!0}},self:{get:function(){return this._self}},go:{get:function(){return this._self}}}),m.self=self,m._.SelfF=SelfF,EvalF.prototype=Object.create(Object.prototype,{isMech:{get:function(){return!0}},go:{get:function(){return void 0===this._a||null===this._a?this._a:this._a.isMech?eval(this._a.go):eval(this._a)}},goNum:{get:function(){return this.go}},goStr:{get:function(){var t=this.go;return void 0===t||null===t?t:t.toString()}},goArr:{get:function(){return[this.go]}},goBool:{get:function(){return 0<this.go}}}),m.eval=evalM,m._.EvalF=EvalF}).call(this);